{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "ncu: HelloCuda",
      "type": "shell",
      "command": "powershell",
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "$ErrorActionPreference='Stop'; $buildDir = \"${config:cmake.buildDirectory}\"; if (-not $buildDir) { $buildDir = Join-Path \"${workspaceFolder}\" \"cmake-build-debug\" }; $candidates = @(Join-Path $buildDir 'test\\test_day01.exe'; Join-Path $buildDir 'test\\Debug\\test_day01.exe'; Join-Path $buildDir 'test_day01.exe'; Join-Path $buildDir 'Debug\\test_day01.exe'); $exe = $candidates | Where-Object { Test-Path $_ } | Select-Object -First 1; if (-not $exe) { Write-Error \"test_day01.exe not found under $buildDir\"; exit 1 }; Write-Host \"Running ncu on $exe\"; ncu --nvtx --call-stack --set full -f --export add_cuda.ncu-rep -- \"$exe\" --gtest_filter=CudaPoc_Day0101.HelloCuda"
      ],
      "problemMatcher": []
    }
  ]
}
